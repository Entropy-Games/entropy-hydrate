<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Counter</title>
    <script defer type="module">
        // Import and initialize
        import '../index.js';
	    await reservoir.init();

		// set a global variable in the reservoir of data called 'counter'
        // with an initial value of 0
		reservoir.set('counter', 0);
    </script>
</head>
<body>
<main>
    <!--
        Bind the 'click' event to action inside the quotes, which
        updates the value 'counter' in the store.
        Note that you can access 'counter' in the ambient context,
        but it will not update the DOM if you simply set the variable.
     -->
    <button bind.click="update('counter', x => x + 1)">+</button>
    <button bind.click="update('counter', x => x - 1)">-</button>
    <!-- pump the data from the reservoir into the component reactively -->
    <span pump='counter'></span>
</main>
</body>
</html>